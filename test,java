


$.ajax({
        type: 'post',
        async: false,
        dataType: "json",
        url: ajaxPrefix + 'PropertiesServlet.do',
        contentType: 'application/json; charset=UTF-8',
        data: JSON.stringify({
        	types: property_types
        }),
        success: function(json) {
            if (typeof json == 'string') json = JSON.parse(json);
        	if (json && json.success && json.data) {
        		var url = json.data;
				
        		// 智能客服
        		if (url.chatbot) {
        			if (excludes.chatbot.length > 0) {
						excludes.chatbot.forEach(exclude => {
							if (window.location.href.indexOf(exclude) === -1) {
								chatbot(url.chatbot);
							}
						});        				
        			} else {
						chatbot(url.chatbot);
        			}
        		}
        		// 數位行為收集
        		if (url.celebrus) {
        			if (excludes.celebrus.length > 0) {
    					excludes.celebrus.forEach(exclude => {
    						if (window.location.href.indexOf(exclude) === -1) {
    							appendScript(url.celebrus); 
    						}
    					});        				
        			} else {
						appendScript(url.celebrus);
        			}
        		}
        		// 嘉實參數
        		if (url.moneydj) {
        			iframe_domain = url.moneydj;
        		}        		
        	}
        }
    });
方法function在transglobe\js\config.js第166 行會從使用者端取得暫存資訊(Cache)，如Cookie、HTML5的LocalStorage，或本地資料庫，做為json元素的值。而程式流程中沒有被正確地過濾(Filter)或編碼(Encode)，並最終在客戶端程式碼(JavaScript)在transglobe\js\config.js第215行appendScript方法於瀏覽器中執行。這可能為DOM存儲的程式碼注入(DOM
